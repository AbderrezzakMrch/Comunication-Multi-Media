<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Video Segmentation</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <h1>ðŸŽ¬ Video Segmentation</h1>

  <form method="POST" action="/segment_video">
    <label>Select Video:</label>
    <select name="video" required>
      {% for video in videos %}
        <option value="{{ video }}" {% if selected_video == video %}selected{% endif %}>
          {{ video }}
        </option>
      {% endfor %}
    </select>

    <label>Number of Segments:</label>
    <input type="number" name="num_segments" min="1"  required>

    <button type="submit">Segment Video</button>
  </form>

  {% if segments %}
    <h2>ðŸ“‚ Segments for {{ selected_video }}</h2>
    <div class="video-container">
      {% for seg in segments %}
        <video controls width="300" src="{{ url_for('serve_segment', filename=selected_video.split('.')[0] + '/' + seg) }}"></video>
      {% endfor %}
    </div>
  {% endif %}

  <p><a href="/">â¬… Back to Upload Page</a></p>
</body>
</html>
